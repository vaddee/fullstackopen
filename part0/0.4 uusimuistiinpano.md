```mermaid
sequenceDiagram
    participant user
    participant browser
    participant server

    user->>browser: Write note and click "save"
    browser->>server: POST https://studies.cs.helsinki.fi/exampleapp/new_note
    activate server
    Note right of server: Server processes the new note and stores it
    server-->>browser: Redirect to /notes
    deactivate server

    Note right of browser: Browser reloads the notes page
    
    browser->>server: GET https://studies.cs.helsinki.fi/exampleapp/notes
    activate server
    server-->>browser: HTML document
    deactivate server
    
    browser->>server: GET https://studies.cs.helsinki.fi/exampleapp/main.css
    activate server
    server-->>browser: the css file
    deactivate server
    
    browser->>server: GET https://studies.cs.helsinki.fi/exampleapp/main.js
    activate server
    server-->>browser: the JavaScript file
    deactivate server
    
    Note right of browser: The browser starts executing the JavaScript code that fetches the JSON from the server
    
    browser->>server: GET https://studies.cs.helsinki.fi/exampleapp/data.json
    activate server
    server-->>browser: [{ "content": "HTML is easy", "date": "2023-1-1" }, ... ]
    deactivate server    

    Note right of browser: The browser executes the callback function that renders the notes

### Selitys:

1. **Useri:**
   - User kirjoittaa tekstikenttään muistiinpanon ja painaa "save"-nappulaa
   
2. **Selaimen toiminta:**
   - Selaimessa tapahtuu POST-pyyntö palvelimelle -> uusi note lähetetään palvelimelle.
   
3. **Palvelimen toiminta:**
   - Palvelin vastaanottaa uuden noten, käsittelee sen ja tallentaa muistiinpanon tietokantaan.
   - Palvelin lähettää vastauksena uudelleenohjauksen (`Redirect`) takaisin /notes-sivulle.
   
4. **Selaimen toiminta uudelleenohjauksen jälkeen:**
   - Selaimessa tapahtuu GET-pyyntö palvelimelle, joka hakee /notes-sivun.
   - Selain lataa HTML-dokumentin, CSS-tiedoston ja JavaScript-tiedoston.
   - JavaScript-koodi alkaa suorittua ja hakee JSON-datan palvelimelta.
   - Palvelin vastaa JSON-datalla, joka sisältää kaikki muistiinpanot, mukaan lukien juuri lisätty muistiinpano.
   - Selain suorittaa callback-funktion, joka renderöi muistiinpanot näkyviin.


